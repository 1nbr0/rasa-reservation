version: "3.1"

intents:
  - salutation
  - goodbye
  - booking
  - cancel_booking
  - info_booking
  - menu_of_the_day
  - allergens
  - menu
  - commentary
  - date
  - time
  - number_people
  - phone_number
  - customer_name
  - confirm
  - cancel
  - code_resa

# actions:
#   - action_check_enough_space
#   - action_create_booking
#   - action_check_code_resa
#   - action_update_booking_comment
#   - action_set_slot_cancel
#   - action_set_slot_info
#   - action_delete_booking

entities:
  - date
  - time
  - nb_person
  - phone_nb
  - customer_name
  - commentary
  - bookingId

slots:
  available:
    type: bool
    influence_conversation: true
    mappings:
      - type: custom

  isBookingExist:
    type: bool
    influence_conversation: true
    mappings:
      - type: custom

  infoResa:
    type: bool
    influence_conversation: true
    mappings:
      - type: custom

  slot_phone_nb:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: phone_nb

  slot_nb_person:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: nb_person

  slot_code_resa:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: bookingId

  slot_commentary:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: commentary

  slot_date:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: date

  slot_time:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: time

  slot_name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: customer_name

responses:
  utter_salutation:
    - text: |
        Bonjour !
        En quoi puis-je vous aidez ?
          - Nouvelle réservation
          - Annuler une réservation
          - Info sur une réservation
          - Menu du jour
          - Liste des allergènes
          - Lien vers la carte

  utter_goodbye:
    - text: "Au revoir l'ami"

  utter_date:
    - text: À quelle date souhaitez-vous réserver la table ? (JJ/MM/YYYY)

  utter_number_people:
    - text: Combien de personnes seront présentes pour le repas ?

  utter_phone_number:
    - text: Renseigner un numéro de téléphone pour la réservation.

  utter_custommer_name:
    - text: C'est noté, quel nom pour la réservation ?

  utter_resume_and_date_verification:
    - text: Pour récapituler, vous souhaitez réserver une table pour le {date} à {time} pour {nb_person}. Votre numéro de téléphone est {phone_number} Pouvez-vous confirmer ces informations?

  # Cancel booking
  utter_cancel_booking:
    - text: Veuillez saisir le code de réservation

  # Info booking
  utter_info_booking:
    - text: Veuillez saisir le code de réservation

  # Menu of the day
  utter_menu_of_the_day:
    - text: Le menu du jour.
      image: "https://lapiscinenantes.com/wp-content/uploads/2023/11/PISCINE-web-4.jpg"

  # Allergens
  utter_allergens:
    - text: Liste des allergènes est disponible ici.

  # Menu
  utter_menu:
    - text: La carte est disponible ici.

  # commentary
  utter_commentary:
    - text: Veuillez saisir le commentaire

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
